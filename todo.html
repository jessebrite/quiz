<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <title>To Do List</title>
  </head>
  <body>
  <form id='todo' action='https://jsonplaceholder.typicode.com/todos' method='POST'>
  <input type='text' name='task' placeholder='Add Task' autofocus required>
  <button type='submit'>Add Task</button>
  </form>

<script>
  // const form = document.forms['todo'];
  // form.addEventListener('submit', addTask, false);

  // function addTask(event) {
  //   event.preventDefault();
  //   const number = form.task.value;
  //   const task = {
  //     userId: 1,
  //     title: form.task.value,
  //     completed: false
  //   }
  //   const data = JSON.stringify(task);
  //   const url = 'https://jsonplaceholder.typicode.com/todos';

  //   const headers = new Headers({
  //     'Accept': 'application/json',
  //     'Content-Type': 'application/json'
  //   });

  //   const request = new Request(url, {
  //     method: 'POST',
  //     header: headers,
  //     body: data
  //   })
  //   // todoList().catch(error => console.log(error));
  //   // async function todoList () {
  //   //   const response = await fetch(request);
  //   //   const tingz = await response.json();
  //   //   console.log(`task saved with an id of ${task.id}`);
  //   // }
  //   fetch(request)
  //   .then( response => response.json() )
  //   .then( task => console.log(`Task saved with an id of ${task.id}`) )
  //   .catch( error => console.error('There was an error:', error))
  // }

  const form = document.forms['todo'];
form.addEventListener('submit', addTask, false);
function addTask(event) {
event.preventDefault();
const number = form.task.value;
const task = {
userId: 1,
title: form.task.value,
completed: false
}
const data = JSON.stringify(task);
const url = 'https://jsonplaceholder.typicode.com/todos';
const headers = new Headers({
'Accept': 'application/json',
'Content-Type': 'application/json'
});
const request = new Request(url,
{
method: 'POST',
header: headers,
body: data
})
fetch(request)
.then( response => response.json() )
.then( task => console.log(`Task saved with an id of ${task.id}`) )
.catch( error => console.log('There was an error:', error))
}
</script>
</body>
</html>
