<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ajax calls</title>
</head>
<body>
  <button id='number'>Number Fact</button>
  <button id='chuck'>Chuck Norris Fact</button>
  <div id='output'>
    <!-- Ajax response will appear here -->
  </div>
<script>
  const textButton = document.querySelector('#number');
  const apiButton = document.querySelector('#chuck');
  const outputDiv = document.getElementById('output');

  const textURL = 'http://numbersapi.com/random';
  const apiURL = 'https://api.chucknorris.io/jokes/random';

  // Using promise
  textButton.addEventListener('click', () => {
    fetch(textURL)
    .then(response => {
      console.log(response);
      outputDiv.innerHTML = 'Waiting for response...';
      if (response.ok)
        return response;
      throw Error(response.statusText);
    })
    .then(response => response.text())
    .then(text => outputDiv.innerHTML = text)
    .catch(error => console.error(error))
  }, false);

  apiButton.addEventListener('click', chuckNorisFacts);
  // Using async/await
  async function chuckNorisFacts() {
    const response = await fetch(apiURL);
    const data = await response.json();
    console.log(data);
    outputDiv.innerText = data.value;
  }

</script>
</body>
</html>
