<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Animation</title>
</head>
<body>
  <div id="square"></div>
</body>
</html>

<script>
  const square = document.getElementById('square');
  let angle = 0;

  // This code does the exact same thing as
  // the rotate function
  //   setInterval(() => {
  //     angle = (angle + 2) % 360;
  //     square.style.transform = `rotate(${angle}deg)`
  // }, 1000/60)

  function rotate() {
    angle = (angle + 2) % 360;
    square.style.transform = `rotate(${angle}deg)`;
    requestAnimationFrame(rotate);
  }
  const id = requestAnimationFrame(rotate);
  // Destroy the animation
  // cancelAnimationFrame(id);

</script>

<style>
  body{
    background-color: gold;
  }
  div#square {
    margin: 100px;
    height: 100px;
    width: 100px;
    background-color: #d16;
  }
</style>
