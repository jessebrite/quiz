<!DOCTYPE html>
<html>
<head>
  <title>Hero Form</title>
</head>
<body>
  <article>
    <form id="hero">
      <h1 id="first">Super Heroes</h1>
      <section id="text">
        <h2>Character</h2>
        <label class="name-of" for="heroName">Name:</label>
        <input type="text" id="heroName" name="heroName" autofocus
        placeholder="Your super Hero Name" maxlength="32">
        <label id="pass" for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="secret">
        <label id="age" for="age">Age:</label>
        <input type="number" name="age" id="age" min="18" maxlength="100">
        <label for="origin">Origin Story</label>
        <textarea name="origin" id="origin" rows="10" cols="24" placeholder="Goldr"></textarea>
      </section>
      <section id="checkbox">
        <h2>Super powers</h2>
        <div>
          <label for="flight">Flight:</label>
          <input type="checkbox" id="flight"  value="Flight">
          <label for="strength">Strength</label>
          <input type="checkbox" name="powers"
          value="Strength" id="strength">
        </div>
        <div>
          <label for="speed">Speed:</label>
          <input type="checkbox" name="powers" id="speed" value="Super Speed">
          <label for="energy">Blasts:</label>
          <input type="checkbox" name="energy" id="energy" value="Energy Blasts">
        </div>
          <label for="telekinesis">Telekinesis:</label>
          <input type="checkbox" name="telekinesis" id="telekinesis" value="Telekinesis">
      </section>
      <section id="radio">
        <h2>What type of Hero are you?</h2>
        <label for="superhero">Hero:</label>
        <input type="radio" name="category" value="Hero" id="superhero">
        <label for="villain">Villain:</label>
        <input type="radio" name="category" value="Villain" id="villain">
        <label for="antihero">Antihero:</label>
        <input type="radio" name="category" value="Antihero" id="antihero">
      </section>
      <section id="select">
        <label for="city">Base of Operation:</label>
        <select name="city" id="city">
          <option value="" selected>Choose a city</option>
          <option value="Metropolis">Metropolis</option>
          <option value="Gothat City">Gotham City</option>
          <option value="Keystone City">Keystone City</option>
          <option value="Star City">Star City</option>
          <option value="Coast City">Star City</option>
        </select>
        <section id="conf">
          <label for="confirm">Are you sure?</label>
          <input type="checkbox" id="confirm" name="checkbox">
        </section>
      </section>
        <button id="submit" type="submit" disabled>Submit</button>
    </form>
  </article>
</body>
</html>

<script>
  const first = document.querySelector('label.name-of');
  const second = document.querySelector('label#pass');
  const third = document.querySelector('label#age');
  const form = document.forms.hero;
  const name = form.heroName;
  const password = form.password;

  setTimeout(() => { console.log('Hurray!')
  }, 500);
  console.log('Come');

const label = form.querySelector('label');
const error = document.createElement('div');
error.classList.add('error');
error.textContent = '! Your name is not allowed to start with X.';

const regEx = /^(\w|\d|@#\$%!)+$/;

  form.addEventListener('keyup', (event) => {
    if (name.value != 0 && name.value.startsWith ('g')) {
      label.append(error);
      error.style.display = 'block';
      console.log(`${event.code} pressed`)
    } else if (password.value != 0 && !regEx.test(password.value)) {
      error.textContent = 'Password should be alpha numeric and special characters';
      label.append(error);
      console.log('aben');
      error.style.display = 'block';
    } else {
      error.style.display = 'none';
    }
  });

  first.style.marginLeft = '10px';
  first.style.color = 'red';
  second.style.margin = '10px';
  second.style.color = 'green';
  third.style.margin = '10px';
  third.style.color = 'magenta';

  form.addEventListener('submit', makeHero, false);
  form.confirm.addEventListener('click', disableSubmit, false);

  console.log(form.confirm.value);

  function disableSubmit(event) {
    if (event.target.value === 'on') {
      document.getElementById('submit').disabled = false;
    } else {
      document.getElementById('submit').disabled = true;
    }
  }

  function makeHero(event) {
    const hero = {};
    hero.name = name.value;
    hero.password = password.value;
    hero.origin = form.origin.value;
    console.log(`Name: ${hero.name}\nPassword: ${hero.password}`,
      `\nOrigin Story: ${hero.origin}`);
    event.preventDefault();
    hero.powers = [...form.powers].filter(box => box.checked).map(box => box.value);
    hero.category = form.category.value;
    hero.age = form.age.value;
    hero.city = form.city.value;
    console.log(hero.powers, hero.category, hero.age, hero.city);

    console.log(form.city.options[2].text)
  }
</script>

<style>
  article {
    padding-top: 10px;
    width: 500px;
    height: 750px;
    background-color: skyblue;
    /*align-content: center;*/
    margin-left: 30px;
  }
  h1 {
    text-align: center;
    text-transform: uppercase;
  }
  h2 {
    margin-left: 15px;
  }
  input, textarea {
    /*width: 150px;*/
    display: inline;
    padding: 7px;
    margin: 10px;
    border-radius: 4px;
  }
  input#flight {
    display: /*inline*/;
  }
  section {
    width: 250px;
    float: left;
  }
  section#checkbox {
    /*float: right;*/
  }
  section#radio {
    /*float: right;*/
  }
  label {
    margin-left: 15px;
    /*display: inline-block;*/
    /*padding: : 30px;*/
  }
  p {
    font-size: 20px;
  }
  button {
    margin-left: 80px;
  }
  .error {
    background-color: grey;
  }
</style>
